{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = image => {\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n    />\n    <div class=\"wrapper\">\n    <ul class=\"wrapper-list\">\n    <li class=\"wrapper-item\">Likes<span class=\"span-number\">${image.likes}</span></li>\n    <li class=\"wrapper-item\">Views<span class=\"span-number\">${image.views}</span></li>\n    <li class=\"wrapper-item\">Comments<span class=\"span-number\">${image.comments}</span></li>\n    <li class=\"wrapper-item\">Downloads<span class=\"span-number\">${image.downloads}</span></li>\n    </ul>\n    </div>\n  </a>\n</li>\n`;\n};\n","const BASE_URL = 'https://pixabay.com/api';\n\nexport const fetchImages = (searchedQuery) => {\n    const urlParams = new URLSearchParams({\n        key: '45538852-2ab6a380c393410172122f885',\n        q: searchedQuery,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n\n    return fetch(\n      `${BASE_URL}/?${urlParams}`\n    ).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n}","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { createGalleryCard } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n  const searchedValue = searchForm.elements.user_query.value;\n  if (searchedValue === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Fill in the search field',\n      timeout: 2000,\n      position: 'topCenter',\n    });\n    return;\n  }\n\n  fetchImages(searchedValue)\n    .then(data => {\n      loaderEl.classList.add('is-hidden');\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'center',\n          timeout: 2000,\n        });\n        galleryEl.innerHTML = '';\n        searchForm.reset();\n\n        return;\n      }\n\n      const galleryCardsTemplate = data.hits\n        .map(imgDetails => createGalleryCard(imgDetails))\n        .join('');\n      galleryEl.innerHTML = galleryCardsTemplate;\n\n      new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        overlayOpacity: 0.8,\n      }).refresh();\n      searchForm.reset();\n    })\n    .catch(err => {\n      console.log(err);\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'center',\n        timeout: 2000,\n      });\n    });\n};\n\nsearchForm.addEventListener('submit', onFormSubmit);\n"],"names":["createGalleryCard","image","BASE_URL","fetchImages","searchedQuery","urlParams","response","searchForm","galleryEl","loaderEl","onFormSubmit","event","searchedValue","iziToast","data","galleryCardsTemplate","imgDetails","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAoBC,GACxB;AAAA,kCACyBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,8DAIuCA,EAAM,KAAK;AAAA,8DACXA,EAAM,KAAK;AAAA,iEACRA,EAAM,QAAQ;AAAA,kEACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ECb3EC,EAAW,0BAEJC,EAAeC,GAAkB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MACL,GAAGF,CAAQ,KAAKG,CAAS,EAC/B,EAAM,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,ECbMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpBH,EAAU,UAAY,GACtBC,EAAS,UAAU,OAAO,WAAW,EACrC,MAAMG,EAAgBL,EAAW,SAAS,WAAW,MACrD,GAAIK,IAAkB,GAAI,CACxBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,2BACT,QAAS,IACT,SAAU,WAChB,CAAK,EACD,MACD,CAEDV,EAAYS,CAAa,EACtB,KAAKE,GAAQ,CAEZ,GADAL,EAAS,UAAU,IAAI,WAAW,EAC9BK,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,SACV,QAAS,GACnB,CAAS,EACDL,EAAU,UAAY,GACtBD,EAAW,MAAK,EAEhB,MACD,CAED,MAAMQ,EAAuBD,EAAK,KAC/B,IAAIE,GAAchB,EAAkBgB,CAAU,CAAC,EAC/C,KAAK,EAAE,EACVR,EAAU,UAAYO,EAEtB,IAAIE,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,IACd,eAAgB,EACxB,CAAO,EAAE,QAAO,EACVV,EAAW,MAAK,CACtB,CAAK,EACA,MAAMW,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfL,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,SACV,QAAS,GACjB,CAAO,CACP,CAAK,CACL,EAEAN,EAAW,iBAAiB,SAAUG,CAAY"}